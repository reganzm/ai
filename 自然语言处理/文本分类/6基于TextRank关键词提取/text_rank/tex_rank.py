#-*- coding=utf8 -*-
from jieba import analyse 
import jieba
# 引入TextRank关键词抽取接口 
textrank = analyse.textrank # 原始文本 
text = "非常线程是程序执行时的最小单位，它是进程的一个执行流，\ 是CPU调度和分派的基本单位，一个进程可以由很多个线程组成，\ 线程间共享进程的所有资源，每个线程有自己的堆栈和局部变量。\ 线程由CPU独立调度执行，在多CPU环境下就允许多个线程同时运行。\ 同样多线程也可以实现并发操作，每个请求分配一个线程来处理。"
print ("\nkeywords by textrank:") # 基于TextRank算法进行关键词抽取 
keywords = textrank(text,topK=10,withWeight=True,allowPOS=('ns', 'n'))
# 输出抽取出的关键词 f
words=[keyword for keyword,w in keywords if w>0.2]
print (' '.join(words) + "\n")
jieba.add_word('1230',tag='daguan')
jieba.suggest_freq('`329680`')
text = """
329680|| `329680` 329680 329680 329680 1230                                                                                                                                                                                               324 330242 720160 1017514 239755 468653 274897 988730 1017514 332232 239755 1053                                                                                                                                                                                               40 115995 1101732 793790 222667 847059 272235 72195 7368 7368 837240 408232 4171                                                                                                                                                                                               51 7792 236166 295821 242905 856005 520805 737612 212174 1268524 239755 99552 11                                                                                                                                                                                               20647 1191748 326498 979713 828585 10120 283402 487790 1218217 1140516 1082966 1                                                                                                                                                                                               044285 186887 365865 1030656 1030656 599682 1030656 569999 1044285 138639 106445                                                                                                                                                                                               9 750606 1220165 169667 821297 133528 239755 669302 13 239755 434560 396208 3907                                                                                                                                                                                               37 75959 905418 1188406 924693 708397 1044285 28706 924693 819230 283402 487790                                                                                                                                                                                                1099121 133408 316564 611112 165432 316564 72195 7368 1219589 155706 484473 6789                                                                                                                                                                                               40 861622 1082966 1044285 852788 493242 158493 1004858 798177 348824 1064459 407                                                                                                                                                                                               052 1044285 386284 1108822 583747 7792 1205281 525960 287765 1252114 72195 11080                                                                                                                                                                                               57 434560 396208 788037 1269463 616873 994077 112530 750606 1218166 90139 101656                                                                                                                                                                                               1 1220011 1117210 494226 1220011 1117210 669302 1205156 952582 1080029 11828 104                                                                                                                                                                                               4285 105340 115995 1101732 1158830 842764 1064525 956417 837240 720160 914039 11                                                                                                                                                                                               9827 773255 968221 1044285 195449 59456 837240 934652 542587 720160 1204356 9983                                                                                                                                                                                               35 545638 166965 239755 593192 590921 68696 721845 1205281 263861 239755 1209583                                                                                                                                                                                                459347 383866 41345 121255 742183 427848 132178 139922 1209583 856005 860822 11                                                                                                                                                                                               87656 1044285 351076 762279 175768 287765 514351 184021 266913 902125 163882 104                                                                                                                                                                                               4285 707023 282904 316300 706580 316564 159592 1121849 72195 7368 1205156 952582                                                                                                                                                                                                538313 1044285 746379 316300 706580 316564 721845 234178 1124351 514824 159592                                                                                                                                                                                                755561 1082966 1044285 236166 295821 242905 158493 112530 1176599 371412 623194                                                                                                                                                                                                570373 1140759 536530 856005 1099121 133408 316564 894612 1178821 1121849 838536                                                                                                                                                                                                570373 527455 856005 1219589 412657 206763 1046218 306028 1108057 158493 93712                                                                                                                                                                                                1044285 60128 206692 679073 450405 570373 527455 856005 721845 234178 1124351 51                                                                                                                                                                                               4824 412347 807565 1099510 654372 856005 721845 234178 1124351 514824 1044285 28                                                                                                                                                                                               3032 923072 316300 706580 316564 991700 509221 410256 1077049 588948 1203070 390                                                                                                                                                                                               737 4889 1122688 72195 7368 547877 42898 1044285 17126 547877 316564 157530 9863                                                                                                                                                                                               27 499065 876762 316300 706580 316564 1219589 490538 654372 316924 984047 110805                                                                                                                                                                                               7 1044285 285876 909573 678940 641588 68696 68696 721845 896685 1019055 1261099                                                                                                                                                                                                760651 316924 984047 1273519 905056 1044285 953800 316300 1091056 1046218 306028                                                                                                                                                                                                1188406 159592 856005 471748 989663 737533 1060170 540186 989663 124887 737533                                                                                                                                                                                                427848 390737 856005 78249 122455 1064459 407052 72195 1219589 538313 359838 593                                                                                                                                                                                               192 567403 856005 762859 588948 1274632 1044285 909573 473628 1125442 359838 914                                                                                                                                                                                               039 263861 449838 898312 498390 760651 449838 72195 1108057 7368 1216909 1121849                                                                                                                                                                                                1082966 1044285 236166 295821 242905 351076 639060 119827 1216909 1265784 98553                                                                                                                                                                                               1 1205281 359838 563480 112530 62534 1044285 909573 350937 313405 430931 568408                                                                                                                                                                                                826392 255226 821297 133528 498390 1122569 1121849 153302 994077 518106 1223643                                                                                                                                                                                                581131 20547 239755 988730 1017514 332232 881890 581131 20547 239755 105340 1159                                                                                                                                                                                               95 1101732 165432 626902 20547 239755 1091056 1219589 412657 206763 1046218 3060                                                                                                                                                                                               28 1108057 1223643 20547 7368 856005 449970 446312 750606 807565 72195 290328 12                                                                                                                                                                                               16909 915677 70637 1044285 572805 249303 1035431 697742 7368 1019450 206394 8503                                                                                                                                                                                               77 262156 79747,816903 597526 520477 1179558 1033823 758724 632718 422098 520477                                                                                                                                                                                                414956 625597 1203094 441513 596474 660569 995362 924085 1278762 1155376 110951                                                                                                                                                                                               0 823120 1275770 1203094 520477 831818 970779 1179558 758724 1033823 367432 9953                                                                                                                                                                                               62 340401 599826 520477 907218 1080651 99188 188983 1238335 264536 834740 321830                                                                                                                                                                                                327386 469755 295102 520477 106993 663234 670118 566120 960860 1033823 1032772                                                                                                                                                                                                528558 1108771 643003 520477 1191581 560181 335962 1276143 995362 748896 776840                                                                                                                                                                                                910464 520477 707234 235866 1113816 814750 636128 520477 1241273 756099 658505 4                                                                                                                                                                                               77703 520477 653967 627858 147022 572824 995362 816903 566120 1255841 785043 102                                                                                                                                                                                               5743 197563 990423 816903 6562 1000483 520477 426552 876555 812998 1071452 96565                                                                                                                                                                                               0 54111 1145850 1194044 885827 683784 1181092 1278762 520477 717686 527096 33842                                                                                                                                                                                                858507 995362 473420 1245422 966562 430183 520477 488550 569876 113299 944337 7                                                                                                                                                                                               96858 386932 520477 1161095 1188752 490535 635442 411707 881493 520477 183528 11                                                                                                                                                                                               12816 796858 454003 129186 960860 175827 520477 244780 272645 520477 1097161 984                                                                                                                                                                                               580 69103 969033 520477 796858 300241 351200 834740 995362 816903 426552 988628                                                                                                                                                                                                386932 520477 698094 129186 959270 792049 520477 604424 300241 454003 278563 765                                                                                                                                                                                               514 825039 335962 566120 1255841 520477 857269 54111 1105164 1077959 1033823 104                                                                                                                                                                                               3187 874881 520477 1130795 825039 174851 1025743 788544 990423 1033823 827281 52                                                                                                                                                                                               0477 1067170 501097 186268 814120 685144 920327 93759 520477 852447 526374 25728                                                                                                                                                                                               4 732050 1253782 437702 520477 1025743 100833 701424 610495 834740 63641 1207362                                                                                                                                                                                                197563 1033823 38841 862457 520477 712778 275539 918421 248537 834740 1080166 1                                                                                                                                                                                               152016 995362 990423 816903 266784 196698 966562 520477 53796 78141 587327 10338                                                                                                                                                                                               23 1255841 520477 264512 1051868 177456 948160 995362 990423 426552 386932 52047                                                                                                                                                                                               7 1066992 792049 520477 796858 808039 427992 808039 1100422 520477 110130 112176                                                                                                                                                                                               7 461074 346125 313684 718788 1200054 920327 1145850 204057 825039 520477 944337                                                                                                                                                                                                887156 335962 827281 520477 626786 501097 1163362 803388 655939 520477 828892 1                                                                                                                                                                                               97563 643316 995362 205402 858304 520477 426552 78141 1188445 39765 1207796 5195                                                                                                                                                                                               60 520477 110130 719711 100833 278563 1083687 808533 995362 816903 718123 327386                                                                                                                                                                                                469755 1191581 560181 816903 1115067 792049 520477 1145850 495141 266887 12453                                                                                                                                                                                                141834 131275 1073687 995362 748896 1073687 520477 986447 1040672 1051868 834740                                                                                                                                                                                                752874 190034 1106197 346935 425511 1002773 1043618 25407 520477 54111 1113816                                                                                                                                                                                                718123 327386 469755 1191581 560181 431249 1276143 1033823 237665 995362 106993                                                                                                                                                                                                237665 567228 911694 9604 268051 920327 1001167 535072 345864 920327 81687 72958                                                                                                                                                                                               3 920327 1240292 1251733 920327 683784 1257015 806785 69240 995362 816903 816903                                                                                                                                                                                                54111 230580 834740 106993 663234 1033823 587327 1203332 920327 1017369 546577                                                                                                                                                                                                526298 716116 860795 958317 792049 520477 473420 999378 966562 426716 599826 520                                                                                                                                                                                               477 495141 1142343 936291 190034 920327 1200054 920327 1145850 49805 847972 1312                                                                                                                                                                                               75 342077 520477 205592 1022076 860795 830193 1029655 477703 995362 816903 10257                                                                                                                                                                                               43 1042000 1108771 792049 520477 848000 1163183 1181092 532009 862457 520477 404                                                                                                                                                                                               543 305212 834740 288223 244780 995362 990423 1080651 188983 938967 930595 53364                                                                                                                                                                                               4 94855 22706 1141728 520477 683784 569876 113299 54111 1181454 41306 325497 520                                                                                                                                                                                               477 965650 54111 60758 885680 743458 1097342 920327 1266863 1279716 625597 92032                                                                                                                                                                                               7 144973 515268 216625 596474 26206 295061 1033823 1271263 520477 79262 752874 5                                                                                                                                                                                               66120 960860 490535 1032772 520477 528558 1241273 643003 995362 816903 22706 386                                                                                                                                                                                               932 520477 460932 1241273 1255841 346125 292687 792049 520477 106993 663234 1163                                                                                                                                                                                               183 1112816 828892 405687 15321 1033823 830193 824395 430076 825039 1033823 1025                                                                                                                                                                                               743 788544 990423 827281 520477 857269 1121767 758201 825039 1033823 1255841 346                                                                                                                                                                                               125 186048 707506 1033823 1255841 346125 520477 162383 1241273 186268 814120 197                                                                                                                                                                                               563 49805 723492 995362 816903 1082097 520477 1146383 1077959 139404 878073 1241                                                                                                                                                                                               273 1025743 253930 923659 990423 520477 541144 287496 1080587 680465 1146784 112                                                                                                                                                                                               8160 1177527 520477 1130795 793816 1067170 99032 1033823 525932 407475 682882 59                                                                                                                                                                                               6474 49805 1033823 38841 862457 995362 1025743 386932 460600 1131493 1033823 474                                                                                                                                                                                               63 520477 568277 19054 478371 967191 277558 995362 990423 816903 1066992 792049                                                                                                                                                                                                520477 106993 663234 79262 1880 752523 69219 232680 1102131 520477 287496 495157                                                                                                                                                                                                1266317 190034 1170849 346935 425511 196494 263278 920327 1251733 1097942 26327                                                                                                                                                                                               8 920327 683784 241437 263278 920327 793816 1025743 788544 990423 655002 263278                                                                                                                                                                                                816903 1033823 1240790 290616 995362 129533 889228 520477 658131 490774 422098 8                                                                                                                                                                                               16903 608182 1226448
""".replace('\n',' ').replace('\t',' ').replace(' ','|')
keywords = textrank(text,topK=1,withWeight=True,allowPOS=('m'))
print(list(jieba.posseg.cut(text)))
# 输出抽取出的关键词 f
words=[keyword for keyword,w in keywords if w>0.2]
print (' '.join(words) + "\n")